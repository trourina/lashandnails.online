# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Nuxt 4 application for lashandnails.online, a beauty salon website in Santa Pola, Spain. Built with Vue 3, TypeScript, and modern web development tooling with full SEO optimization for local search.

**Business Details:**
- Name: Lash & Nails Santa Pola
- Address: Carrer Major, 8, 03130 Santa Pola, Alicante, Spain
- Phone: +34 604 31 67 78
- Coordinates: 38.1956992, -0.5579955

## Key Technologies

- **Nuxt 4.1.3**: Vue meta-framework with file-based routing and auto-imports
- **Vue 3.5.22**: Composition API is preferred
- **TypeScript**: Fully typed codebase
- **Tailwind CSS v4**: Utility-first CSS framework via Vite plugin
- **@nuxtjs/i18n**: Multi-language support (EN/ES/RU)
- **@nuxtjs/seo**: SEO optimization with schema.org LocalBusiness markup, sitemap, robots.txt, and OG images
- **@nuxt/scripts**: Third-party script management (includes Google Maps with marker clustering)
- **@nuxt/fonts**: Automatic font optimization
- **@nuxt/eslint**: Linting with Nuxt-specific rules

## Common Commands

### Development
```bash
npm run dev          # Start dev server at http://localhost:3000
npm run build        # Build for production
npm run preview      # Preview production build locally
npm run generate     # Generate static site
```

### Linting
ESLint configuration is auto-generated by Nuxt. Custom rules can be added to `eslint.config.mjs`.

## Architecture

### Directory Structure

- **app/**: Main application code (Nuxt 4 convention)
  - `app.vue`: Root application component with `<NuxtLayout>` and `<NuxtPage />`
  - `components/`: Auto-imported components
    - `MainNavigation.vue`: Main navigation menu
    - `LanguageSwitcher.vue`: i18n language switcher
    - `Typo.vue`: Typography component with variants
  - `layouts/`: Layout templates
    - `default.vue`: Default layout with header, main, footer
  - `pages/`: File-based routing
    - `index.vue`: Home page
    - `services/`: Services pages
    - `gallery.vue`, `about.vue`, `contact.vue`, `booking.vue`
- **i18n/locales/**: i18n translation files
  - `en.json`: English (default)
  - `es.json`: Spanish
  - `ru.json`: Russian
- **public/**: Static assets served at root
  - Favicon files (favicon.ico, favicon.svg, favicon-96x96.png)
  - Apple touch icon (apple-touch-icon.png)
  - PWA manifest (site.webmanifest)
- **.nuxt/**: Auto-generated Nuxt files (never edit directly)

### Nuxt Conventions

- **Auto-imports**: Components, composables, and utilities are auto-imported. No explicit imports needed for:
  - Vue 3 APIs (ref, computed, onMounted, etc.)
  - Nuxt composables (useRouter, useFetch, etc.)
  - Components in `components/` directory

- **File-based routing**: Pages in `app/pages/` directory automatically become routes (Nuxt 4 uses `app/` folder structure)

- **TypeScript**: Type definitions are auto-generated in `.nuxt/` after running `npm run dev` or `nuxt prepare`

### Modules in Use

- **@nuxtjs/i18n**: Internationalization
  - Default locale: English (en)
  - Available: Spanish (es), English (en), Russian (ru)
  - Fallback locale: English (en)
  - Strategy: `prefix` - All routes are prefixed (/en, /es, /ru)
  - **IMPORTANT**: Use `t()` from `useI18n()` composable, NOT `$t()` for per-component translations
  - **Local translations**: Use `<i18n>` blocks in components for better tree-shaking
  - Global translations in `i18n/locales/` for shared content (nav, common)
  - `globalSFCScope: false` enables optimal bundle splitting
  - Language switcher available via `<LanguageSwitcher />` component

- **@nuxtjs/seo**: SEO optimization (includes sitemap, robots, og-image, schema-org)
  - Configured with site URL: https://lashandnails.online
  - LocalBusiness schema with full business details (address, phone, hours, geo coordinates)
  - Auto-generates sitemap.xml with i18n support
  - Auto-generates robots.txt
  - Canonical URLs auto-generated (do NOT add manual canonical links)
  - hreflang tags auto-generated for multilingual pages
  - Each page has localized SEO meta (title, description, ogTitle, ogDescription) using `useSeoMeta()`

- **@nuxt/scripts**: Use for third-party scripts. Google Maps components are available via `ScriptGoogleMaps*` components

- **@nuxt/fonts**: Fonts are automatically optimized. Add font families in `nuxt.config.ts`

- **@nuxt/eslint**: Linting is integrated. Run via IDE or add explicit lint script if needed

## Development Notes

- **Nuxt 4**: This project uses the latest Nuxt 4 structure with `app/` directory
- Pages must be in `app/pages/` not root `pages/`
- Run `nuxt prepare` (via `npm install`) after dependency changes to regenerate types
- The project uses Nuxt devtools (enabled in config)
- Compatibility date set to 2025-07-15 for consistent behavior across Nuxt versions
- Tailwind CSS v4 is configured via Vite plugin

## i18n Best Practices

**IMPORTANT**: When using per-component `<i18n>` blocks, you MUST use `t()` from `useI18n()` composable, NOT `$t()`.

**Correct usage with local `<i18n>` blocks:**

```vue
<template>
  <h1>{{ t('title') }}</h1>
  <p>{{ t('description') }}</p>
</template>

<script setup lang="ts">
const { t } = useI18n({ useScope: 'local' })
</script>

<i18n lang="json">
{
  "es": {
    "title": "Mi Título",
    "description": "Mi descripción"
  },
  "en": {
    "title": "My Title",
    "description": "My description"
  },
  "ru": {
    "title": "Мой заголовок",
    "description": "Моё описание"
  }
}
</i18n>
```

**Benefits:**
- Each page/component only loads its own translations
- Unused translations are automatically tree-shaken
- Better code splitting and smaller bundle sizes
- Translations live next to the code that uses them

**Use global translations (`i18n/locales/`) only for:**
- Navigation menus
- Common UI elements (buttons, forms)
- Shared error messages
- Footer content

## SEO Best Practices

**Per-page SEO meta tags:**

```vue
<script setup lang="ts">
const { t } = useI18n({ useScope: 'local' })

useSeoMeta({
  title: () => t('seoTitle'),
  description: () => t('seoDescription'),
  ogTitle: () => t('seoTitle'),
  ogDescription: () => t('seoDescription'),
})
</script>

<i18n lang="json">
{
  "es": {
    "title": "Mi Página",
    "seoTitle": "Mi Página | Lash & Nails Santa Pola",
    "seoDescription": "Descripción SEO en español"
  },
  "en": {
    "title": "My Page",
    "seoTitle": "My Page | Lash & Nails Santa Pola",
    "seoDescription": "SEO description in English"
  },
  "ru": {
    "title": "Моя страница",
    "seoTitle": "Моя страница | Lash & Nails Santa Pola",
    "seoDescription": "SEO описание на русском"
  }
}
</i18n>
```

**Important:**
- Use functions `() => t('key')` for reactive translations in `useSeoMeta()`
- Do NOT add manual canonical links - they are auto-generated
- Each language should have unique, localized SEO content

## Icon/Favicon Configuration

The project uses multiple favicon formats for cross-browser and device compatibility:
- `favicon.ico` - Standard favicon
- `favicon.svg` - Vector favicon
- `favicon-96x96.png` - PNG favicon
- `apple-touch-icon.png` - iOS home screen icon (180x180)
- `site.webmanifest` - PWA manifest

These are configured in `nuxt.config.ts` under `app.head.link`. All icon files should be placed in the `public/` directory.

## Business Information

Business data is centralized in `config/business.config.ts` for reusability across the app.

When updating business details, make sure to update in these places:
1. **`config/business.config.ts`** - Primary source of truth (address, phone, geo coordinates, opening hours, social links)
2. Contact page translations (for display text)
3. Footer translations (for display text)
4. `site.webmanifest` - PWA app name

The `BUSINESS` constant is exported from `config/business.config.ts` and used in:
- `nuxt.config.ts` - Runtime config and Schema.org LocalBusiness
- Components via `useRuntimeConfig().public.business`

The `OPENING_HOURS_SPECIFICATION` is exported for Schema.org structured data.

Current business hours:
- Mon-Fri: 09:30-20:00
- Sat: 10:00-14:00
- Sun: Closed (not listed)
