# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Nuxt 4 application for lashandnails.online, built with Vue 3, TypeScript, and modern web development tooling.

## Key Technologies

- **Nuxt 4.1.3**: Vue meta-framework with file-based routing and auto-imports
- **Vue 3.5.22**: Composition API is preferred
- **TypeScript**: Fully typed codebase
- **@nuxtjs/i18n**: Multi-language support (ES/EN, expandable to PL/RU)
- **@nuxtjs/sitemap**: Automatic sitemap generation for SEO
- **@nuxt/scripts**: Third-party script management (includes Google Maps with marker clustering)
- **@nuxt/fonts**: Automatic font optimization
- **@nuxt/eslint**: Linting with Nuxt-specific rules

## Common Commands

### Development
```bash
npm run dev          # Start dev server at http://localhost:3000
npm run build        # Build for production
npm run preview      # Preview production build locally
npm run generate     # Generate static site
```

### Linting
ESLint configuration is auto-generated by Nuxt. Custom rules can be added to `eslint.config.mjs`.

## Architecture

### Directory Structure

- **app/**: Main application code (Nuxt 4 convention)
  - `app.vue`: Root application component with `<NuxtLayout>` and `<NuxtPage />`
  - `components/`: Auto-imported components
    - `MainNavigation.vue`: Main navigation menu
    - `LanguageSwitcher.vue`: i18n language switcher
    - `Typo.vue`: Typography component with variants
  - `layouts/`: Layout templates
    - `default.vue`: Default layout with header, main, footer
  - `pages/`: File-based routing
    - `index.vue`: Home page
    - `services/`: Services pages
    - `gallery.vue`, `about.vue`, `contact.vue`, `booking.vue`
- **i18n/locales/**: i18n translation files
  - `es.json`: Spanish (default)
  - `en.json`: English
- **public/**: Static assets served at root
- **.nuxt/**: Auto-generated Nuxt files (never edit directly)

### Nuxt Conventions

- **Auto-imports**: Components, composables, and utilities are auto-imported. No explicit imports needed for:
  - Vue 3 APIs (ref, computed, onMounted, etc.)
  - Nuxt composables (useRouter, useFetch, etc.)
  - Components in `components/` directory

- **File-based routing**: Pages in `app/pages/` directory automatically become routes (Nuxt 4 uses `app/` folder structure)

- **TypeScript**: Type definitions are auto-generated in `.nuxt/` after running `npm run dev` or `nuxt prepare`

### Modules in Use

- **@nuxtjs/i18n**: Internationalization
  - Default locale: English (en)
  - Available: Spanish (es)
  - Fallback locale: English (en)
  - Strategy: `prefix` (/en for English, /es for Spanish - both prefixed)
  - **Local translations**: Use `<i18n>` blocks in components for better tree-shaking
  - Global translations in `i18n/locales/` for shared content (nav, common)
  - `globalSFCScope: false` enables optimal bundle splitting
  - Use `$t('key')` in templates or `useI18n()` composable in script
  - Language switcher available via `<LanguageSwitcher />` component
- **@nuxtjs/sitemap**: Auto-generates sitemap.xml
  - Configured with site URL: https://lashandnails.online
  - Integrates with i18n for multilingual sitemaps
- **@nuxt/scripts**: Use for third-party scripts. Google Maps components are available via `ScriptGoogleMaps*` components
- **@nuxt/fonts**: Fonts are automatically optimized. Add font families in `nuxt.config.ts`
- **@nuxt/eslint**: Linting is integrated. Run via IDE or add explicit lint script if needed

## Development Notes

- **Nuxt 4**: This project uses the latest Nuxt 4 structure with `app/` directory
- Pages must be in `app/pages/` not root `pages/`
- Run `nuxt prepare` (via `npm install`) after dependency changes to regenerate types
- The project uses Nuxt devtools (enabled in config)
- Compatibility date set to 2025-07-15 for consistent behavior across Nuxt versions
- Tailwind CSS v4 is configured via Vite plugin

## i18n Best Practices

**Use local `<i18n>` blocks in components for better tree-shaking:**

```vue
<template>
  <h1>{{ $t('title') }}</h1>
  <p>{{ $t('description') }}</p>
</template>

<i18n lang="json">
{
  "es": {
    "title": "Mi Título",
    "description": "Mi descripción"
  },
  "en": {
    "title": "My Title",
    "description": "My description"
  }
}
</i18n>
```

**Benefits:**
- Each page/component only loads its own translations
- Unused translations are automatically tree-shaken
- Better code splitting and smaller bundle sizes
- Translations live next to the code that uses them

**Use global translations (`i18n/locales/`) only for:**
- Navigation menus
- Common UI elements (buttons, forms)
- Shared error messages
- Footer content
